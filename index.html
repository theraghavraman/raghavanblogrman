<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Asteria — Tech, Literature, Philosophy, Science</title>
<meta name="description" content="A state-of-the-art single-file blog in a light, white, multi-color pastel style using glassmorphism, elegant typography, and subtle gradients." />

<style>
/* ================= Root: Light Theme, Accessibility ================= */
:root{
  --page-bg: #fafbff;
  --paper: rgba(255,255,255,0.65);
  --paper-strong: rgba(255,255,255,0.82);
  --paper-border: rgba(20,24,40,0.08);
  --inner: rgba(255,255,255,0.9);
  --text: #1a2240;
  --muted: #4c587a;
  --muter: #6d79a1;
  --accent-1:#63b3ed; /* blue */
  --accent-2:#a78bfa; /* purple */
  --accent-3:#f472b6; /* pink */
  --accent-4:#34d399; /* green */
  --ring: rgba(99,179,237,0.7);
  --radius-xl: 22px;
  --radius-lg: 16px;
  --radius-md: 12px;
  --glass-blur: 12px;
  --shadow: 0 10px 24px rgba(16, 24, 40, 0.08);
  --max-w: 1200px;
}

/* Prefer reduced motion */
@media (prefers-reduced-motion: reduce){
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
}

/* Prefer higher contrast: strengthen borders/text */
@media (prefers-contrast: more){
  :root{
    --paper: rgba(255,255,255,0.92);
    --paper-border: rgba(20,24,40,0.22);
    --muted: #2a3357;
  }
}

/* ================= Global ================= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color:var(--text);
  background: var(--page-bg);
  overflow-x:hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Ambient animated pastel background */
.bg-anim{
  position:fixed; inset:-12vmax;
  z-index:-2;
  background:
    radial-gradient(900px 600px at 15% 8%, rgba(255,182,193,0.18), transparent 60%),
    radial-gradient(1000px 700px at 85% 12%, rgba(167,139,250,0.18), transparent 60%),
    radial-gradient(1100px 800px at 50% 92%, rgba(99,179,237,0.18), transparent 55%),
    radial-gradient(900px 700px at 10% 85%, rgba(52,211,153,0.14), transparent 60%),
    linear-gradient(180deg, #ffffff, #f7f9ff);
  animation: drift 30s ease-in-out infinite alternate;
  will-change: background-position;
}
@keyframes drift{
  0%{ background-position: 0% 0%, 100% 0%, 50% 100%, 0% 50%, 0 0; }
  100%{ background-position: 10% 8%, 90% 12%, 52% 96%, 6% 86%, 0 0; }
}

/* Soft grain for texture */
.grain{
  position:fixed; inset:0; z-index:-1; pointer-events:none;
  background-image: url('image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="2" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.06"/></svg>');
  background-size: 280px 280px;
  mix-blend-mode: multiply;
}

/* Layout */
.container{ width:calc(100% - 2rem); max-width:var(--max-w); margin:0 auto; }

/* ================= Glass, Rings, Utilities ================= */
.glass{
  background: var(--paper);
  backdrop-filter: blur(var(--glass-blur)) saturate(130%);
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(130%);
  border:1px solid var(--paper-border);
  box-shadow: var(--shadow);
}
.inner-edge{ box-shadow: inset 0 0 0 1px rgba(255,255,255,0.45); }
.ring{
  position:relative; border-radius: inherit;
}
.ring:after{
  content:""; position:absolute; inset:-1px; border-radius:inherit; pointer-events:none;
  background: linear-gradient(120deg, rgba(99,179,237,0.35), rgba(167,139,250,0.25), rgba(244,114,182,0.35), rgba(52,211,153,0.35));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  padding:1px;
}

/* Gradient text */
.gradient-text{
  background: linear-gradient(90deg, var(--accent-1), var(--accent-2), var(--accent-3), var(--accent-4));
  background-size: 220% 220%;
  -webkit-background-clip: text; background-clip: text;
  color: transparent;
  animation: hueflow 18s ease-in-out infinite;
}
@keyframes hueflow{
  0%{ background-position: 0% 50%; }
  50%{ background-position: 100% 50%; }
  100%{ background-position: 0% 50%; }
}

/* Buttons */
.button{
  display:inline-flex; align-items:center; gap:.55rem;
  padding:.75rem 1rem; border-radius:999px; text-decoration:none;
  color:var(--text); font-weight:600; letter-spacing:.01em;
  background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.7));
  border:1px solid rgba(20,24,40,0.12);
  transition: transform .18s ease, box-shadow .18s ease, background .25s ease;
  box-shadow: 0 6px 14px rgba(16,24,40,0.07);
}
.button:hover{ transform: translateY(-2px); box-shadow: 0 10px 22px rgba(16,24,40,0.10); }
.button--accent{
  background: linear-gradient(90deg, rgba(99,179,237,0.18), rgba(167,139,250,0.18), rgba(244,114,182,0.18));
  border-image: linear-gradient(90deg, var(--accent-1), var(--accent-2)) 1;
}

/* Chips */
.chips{ display:flex; gap:.6rem; flex-wrap:wrap; }
.chip{
  padding:.42rem .75rem; border-radius:999px; font-size:.86rem; color:var(--muted);
  background: rgba(255,255,255,0.9); border:1px solid rgba(20,24,40,0.12);
  transition: transform .18s ease, background .25s ease;
}
.chip:hover{ transform: translateY(-2px); background: var(--paper-strong); }
.chip[data-cat="tech"]{ border-color: rgba(99,179,237,0.5); }
.chip[data-cat="literature"]{ border-color: rgba(167,139,250,0.5); }
.chip[data-cat="philosophy"]{ border-color: rgba(244,114,182,0.5); }
.chip[data-cat="science"]{ border-color: rgba(52,211,153,0.5); }

/* Header */
.header{
  padding: .9rem 0;
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
}
.brand{ display:flex; align-items:center; gap:.8rem; text-decoration:none; color:var(--text); }
.logo{
  width:44px; height:44px; border-radius:14px;
  background: conic-gradient(from 210deg, var(--accent-1), var(--accent-2), var(--accent-3), var(--accent-4), var(--accent-1));
  position:relative; overflow:hidden; box-shadow: 0 6px 18px rgba(16,24,40,0.10);
}
.logo:before{
  content:""; position:absolute; inset:1px; border-radius:12px;
  background: rgba(255,255,255,0.6);
  border:1px solid rgba(20,24,40,0.12);
  backdrop-filter: blur(5px);
}
.brand h1{ font-size:1.02rem; letter-spacing:.12em; text-transform:uppercase; margin:0; color:var(--muted); }

/* Nav + search */
.nav{ display:flex; gap:.4rem; flex-wrap:wrap; align-items:center;}
.nav a{ font-size:.95rem }
.search{
  display:flex; align-items:center; gap:.5rem; padding:.5rem .75rem; border-radius:999px; color:var(--muted);
  background: rgba(255,255,255,0.9); border:1px solid rgba(20,24,40,0.12);
}
.search input{
  background: transparent; border:0; outline:0; color:var(--text); width:12ch;
}
.search input::placeholder{ color:#8893b3; }

/* Hero */
.hero{
  margin-top: .3rem; border-radius: var(--radius-xl); position:relative; overflow:hidden;
}
.hero::before{
  content:""; position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(700px 360px at 12% 10%, rgba(99,179,237,0.20), transparent 60%),
    radial-gradient(700px 360px at 88% 18%, rgba(167,139,250,0.18), transparent 55%),
    radial-gradient(900px 500px at 45% 95%, rgba(52,211,153,0.16), transparent 60%);
}
.hero-content{
  display:grid; grid-template-columns: 1.2fr 1fr; gap: 2rem;
  padding: clamp(1rem, 2.2vw, 1.6rem);
}
.hero-left{
  padding: clamp(1rem, 2.2vw, 1.6rem); border-radius: var(--radius-lg);
}
.kicker{ color:#6d79a1; letter-spacing:.22em; text-transform:uppercase; font-size:.78rem; margin-bottom:.55rem; }
.hero h2{ font-size: clamp(1.9rem, 4vw, 3rem); line-height:1.12; margin:.1rem 0 .6rem; }
.hero p{ color:var(--muted); font-size:1.05rem; margin:0 0 1.1rem; }

/* Spotlight */
.spotlight{
  border-radius: var(--radius-lg);
  position:relative; overflow:hidden;
  display:flex; flex-direction:column; justify-content:flex-end; min-height: 320px;
  background: linear-gradient(160deg, rgba(255,255,255,0.95), rgba(255,255,255,0.78));
  border:1px solid rgba(20,24,40,0.12);
}
.spotlight .tag{
  position:absolute; top:14px; left:14px;
  padding:.35rem .65rem; border-radius:999px; font-size:.76rem; text-transform:uppercase;
  background: rgba(255,255,255,0.95); border:1px solid rgba(20,24,40,0.12);
}
.spotlight h3{ margin:0; font-size:1.32rem; }
.spotlight p{ margin:.35rem 0 0; color:#374267; }
.spotlight-footer{ display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-top:.6rem; }

/* Sections */
.section{ margin: 2.2rem 0; }
.section h4{ margin:.2rem 0 1rem; color:#5b6793; letter-spacing:.18em; text-transform:uppercase; font-size:.82rem; }

/* Grid */
.grid{ display:grid; gap:1.1rem; grid-template-columns: repeat(12, 1fr); }
.card{
  grid-column: span 4; border-radius: var(--radius-lg); overflow:hidden; position:relative;
  transition: transform .22s ease, box-shadow .22s ease, background .22s ease;
  background: rgba(255,255,255,0.9); border:1px solid rgba(20,24,40,0.12);
}
.card:hover{ transform: translateY(-4px); box-shadow: 0 16px 28px rgba(16,24,40,0.12); }
.card-media{
  height: 150px; position:relative; overflow:hidden;
  background: linear-gradient(135deg, rgba(99,179,237,0.22), rgba(167,139,250,0.22), rgba(244,114,182,0.22));
}
.card-media::after{
  content:""; position:absolute; inset:0;
  background: radial-gradient(340px 200px at 85% 15%, rgba(255,255,255,0.7), transparent 60%),
              radial-gradient(360px 220px at 10% 85%, rgba(255,255,255,0.55), transparent 60%);
  mix-blend-mode: screen; opacity:.7;
}
.card-body{ padding:1rem; }
.card .meta{ display:flex; gap:.6rem; align-items:center; color:#5c6999; font-size:.86rem; }
.card h5{ margin:.55rem 0 .35rem; font-size:1.1rem; }
.card p{ margin:0; color:var(--muter); }

/* Reader drawer (light sheet) */
.reader{
  position: fixed; inset:auto 0 0 0; translate: 0 110%;
  transition: translate .42s cubic-bezier(.2,.8,.2,1);
  border-top-left-radius: 22px; border-top-right-radius:22px;
  max-height: 90vh; overflow:auto;
  background: var(--paper-strong);
  border:1px solid rgba(20,24,40,0.12);
  box-shadow: 0 -10px 28px rgba(16,24,40,0.12);
}
.reader.open{ translate: 0 0; }
.reader .wrap{ padding: 1.1rem; max-width: 840px; margin: 0 auto; }
.reader h2{ margin:.2rem 0 .6rem; font-size:1.7rem; }
.reader .byline{ color:#56618a; font-size:.95rem; }
.reader article{ color:#2a3357; line-height:1.72; }
.reader article h3{ margin:1.1rem 0 .4rem; }
.reader .close{ position:sticky; top:.8rem; margin-left:auto; display:inline-flex; align-items:center; gap:.4rem; }

/* Footer */
.footer{
  margin: 2.4rem 3px 3rem; padding:1rem; border-radius: var(--radius-lg);
  color:#4c587a; font-size:.95rem; display:flex; justify-content:space-between; flex-wrap:wrap; gap:.8rem;
  background: rgba(255,255,255,0.9); border:1px solid rgba(20,24,40,0.12);
}

/* Responsive */
@media (max-width: 980px){
  .hero-content{ grid-template-columns: 1fr; }
  .grid .card{ grid-column: span 6; }
}
@media (max-width: 680px){
  .nav{ display:none; }
  .grid .card{ grid-column: span 12; }
  .hero p{ font-size:1rem; }
}

/* Subtle shimmer */
.shimmer{ position:relative; overflow:hidden; }
.shimmer::after{
  content:""; position:absolute; inset:-200%;
  background: linear-gradient(120deg, transparent 45%, rgba(255,255,255,0.45) 50%, transparent 55%);
  animation: shine 6s ease-in-out infinite;
}
@keyframes shine{ 0%{ transform: translateX(-30%);} 100%{ transform: translateX(30%);} }
</style>
</head>

<body>
<div class="bg-anim" aria-hidden="true"></div>
<div class="grain" aria-hidden="true"></div>

<header class="container header">
  <a class="brand" href="#" aria-label="Asteria Home">
    <div class="logo ring" aria-hidden="true"></div>
    <h1>Asteria Press</h1>
  </a>
  <nav class="nav" aria-label="Primary">
    <a class="button" href="#latest">Latest</a>
    <a class="button" href="#essays">Essays</a>
    <a class="button" href="#reviews">Reviews</a>
    <a class="button button--accent" href="#subscribe">Subscribe</a>
  </nav>
  <label class="search" aria-label="Search posts">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
    <input id="q" type="search" placeholder="Search…" />
  </label>
</header>

<main class="container">
  <!-- HERO -->
  <section class="hero glass ring inner-edge" id="hero" role="region" aria-label="Hero">
    <div class="hero-content">
      <div class="hero-left">
        <div class="kicker">Technology • Literature • Philosophy • Science</div>
        <h2 class="gradient-text">Where ideas meet elegant engineering</h2>
        <p>Deep dives and lyrical essays at the edge of code and culture—crafted for minds that love systems and sentences alike.</p>
        <div style="display:flex; gap:.7rem; flex-wrap:wrap;">
          <a href="#latest" class="button">Read latest</a>
          <a href="#subscribe" class="button button--accent">Get updates</a>
        </div>
        <div class="section" style="margin-top:1rem">
          <div class="chips" role="group" aria-label="Filter categories">
            <button class="chip" data-cat="tech">Technology</button>
            <button class="chip" data-cat="literature">Literature</button>
            <button class="chip" data-cat="philosophy">Philosophy</button>
            <button class="chip" data-cat="science">Science</button>
          </div>
        </div>
      </div>

      <div class="spotlight shimmer" role="article" aria-labelledby="spot-title">
        <span class="tag">Spotlight</span>
        <div style="padding:1rem 1rem 1.1rem; background: linear-gradient(180deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.65) 100%);">
          <h3 id="spot-title">The Algorithm as Critic: Can Gradient Descent Read Poetry?</h3>
          <p>Exploring meaning-making from transformers to transcendence—and what machines misunderstand about metaphor.</p>
          <div class="spotlight-footer">
            <span class="meta">12 min • Philosophy</span>
            <a class="button" href="#" data-open="The Algorithm as Critic: Can Gradient Descent Read Poetry?">Open</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- LATEST -->
  <section class="section" id="latest" aria-label="Latest posts">
    <h4>Latest</h4>
    <div class="grid">
      <article class="card ring" data-cat="tech">
        <div class="card-media"></div>
        <div class="card-body">
          <div class="meta">8 min • Technology</div>
          <h5>Edge Compute, Edge Culture</h5>
          <p>Why pushing inference to the margins changes both latency and literature.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="Edge Compute, Edge Culture">Read</a>
            <span class="chip" data-cat="tech">Tech</span>
          </div>
        </div>
      </article>

      <article class="card ring" data-cat="literature">
        <div class="card-media"></div>
        <div class="card-body">
          <div class="meta">6 min • Literature</div>
          <h5>Margins, Kerning, Meaning</h5>
          <p>On typographic nuance and how form teaches content to sing.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="Margins, Kerning, Meaning">Read</a>
            <span class="chip" data-cat="literature">Lit</span>
          </div>
        </div>
      </article>

      <article class="card ring" data-cat="philosophy">
        <div class="card-media"></div>
        <div class="card-body">
          <div class="meta">10 min • Philosophy</div>
          <h5>Against Reduction</h5>
          <p>Resisting the temptation to flatten minds into metrics.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="Against Reduction">Read</a>
            <span class="chip" data-cat="philosophy">Philo</span>
          </div>
        </div>
      </article>

      <article class="card ring" data-cat="science">
        <div class="card-media"></div>
        <div class="card-body">
          <div class="meta">9 min • Science</div>
          <h5>Planck Time and Desire</h5>
          <p>On the smallest tick and the longest longing.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="Planck Time and Desire">Read</a>
            <span class="chip" data-cat="science">Sci</span>
          </div>
        </div>
      </article>

      <article class="card ring" data-cat="science">
        <div class="card-body">
          <div class="meta">7 min • Science</div>
          <h5>The Gentle Violence of Measurement</h5>
          <p>When observation alters the observed—and the observer.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="The Gentle Violence of Measurement">Read</a>
            <span class="chip" data-cat="science">Sci</span>
          </div>
        </div>
      </article>

      <article class="card ring" data-cat="literature">
        <div class="card-body">
          <div class="meta">11 min • Literature</div>
          <h5>Footnotes to a Dream</h5>
          <p>Fragments on Kafka and the data of desire.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="Footnotes to a Dream">Read</a>
            <span class="chip" data-cat="literature">Lit</span>
          </div>
        </div>
      </article>
    </div>
  </section>

  <!-- ESSAYS -->
  <section class="section" id="essays" aria-label="Featured essays">
    <h4>Featured Essays</h4>
    <div class="grid">
      <article class="card ring" data-cat="philosophy">
        <div class="card-body">
          <div class="meta">Longform • Philosophy</div>
          <h5>Signals, Symbols, Souls</h5>
          <p>Notes on representation between neurons and notions.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="Signals, Symbols, Souls">Read</a>
            <span class="chip" data-cat="philosophy">Philo</span>
          </div>
        </div>
      </article>
      <article class="card ring" data-cat="tech">
        <div class="card-body">
          <div class="meta">Longform • Technology</div>
          <h5>Latency Is a Literary Device</h5>
          <p>How waiting creates meaning in machines and novels.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="Latency Is a Literary Device">Read</a>
            <span class="chip" data-cat="tech">Tech</span>
          </div>
        </div>
      </article>
      <article class="card ring" data-cat="science">
        <div class="card-body">
          <div class="meta">Longform • Science</div>
          <h5>Elegy for a Constant</h5>
          <p>When the universal seems to drift under precision.</p>
          <div style="margin-top:.7rem; display:flex; gap:.5rem;">
            <a class="button" href="#" data-open="Elegy for a Constant">Read</a>
            <span class="chip" data-cat="science">Sci</span>
          </div>
        </div>
      </article>
    </div>
  </section>

  <!-- SUBSCRIBE -->
  <section class="section" id="subscribe" aria-label="Subscribe">
    <h4>Stay in orbit</h4>
    <div class="glass inner-edge ring" style="padding:1rem; border-radius:var(--radius-lg); display:flex; gap:.8rem; flex-wrap:wrap; align-items:center;">
      <div style="flex:1">
        <div class="kicker">Letters, not spam</div>
        <div class="gradient-text" style="font-size:1.32rem; line-height:1.2;">Monthly notes on systems, sentences, and stars</div>
      </div>
      <form id="subForm" style="display:flex; gap:.6rem; flex-wrap:wrap;">
        <input required name="email" type="email" placeholder="email@domain.com" style="padding:.8rem 1rem; border-radius:999px; border:1px solid rgba(20,24,40,0.16); background: rgba(255,255,255,0.95); color:var(--text); outline:none; min-width:240px;">
        <button class="button button--accent" type="submit">Subscribe</button>
      </form>
    </div>
  </section>
</main>

<!-- Reader Drawer -->
<section class="reader" id="reader" aria-label="Reading panel" aria-hidden="true">
  <div class="wrap">
    <button class="button close" id="closeReader" aria-label="Close reader">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
      Close
    </button>
    <h2 id="readerTitle">Title</h2>
    <div class="byline">By Asteria • <span id="readerMeta">Reading time</span></div>
    <article id="readerBody">
      <h3>Opening</h3>
      <p>This light reading view keeps contrast high on white and pastel backgrounds, tuned for clarity and comfort.</p>
      <h3>Idea</h3>
      <p>Signal and style can coexist: crisp text, soft color, and gentle depth make thinking feel breathable.</p>
    </article>
  </div>
</section>

<footer class="container footer">
  <span>© <span id="year"></span> Asteria Press</span>
  <span>Light theme • Glassmorphism • Vanilla JS</span>
</footer>

<script>
/* ======= Content registry ======= */
const posts = {
  "The Algorithm as Critic: Can Gradient Descent Read Poetry?": {
    time: "12 min • Philosophy",
    body: `
      <h3>1 — Machines and Meaning</h3>
      <p>Transformers quantify context; metaphor wagers on remainder. Between them is criticism.</p>
      <h3>2 — Gradient and Grace</h3>
      <p>Descent finds minima; reading finds meanings that shift under light.</p>
    `
  },
  "Edge Compute, Edge Culture": {
    time: "8 min • Technology",
    body: `
      <h3>Latency and Liturgy</h3>
      <p>Near-user inference edits our sense of presence; design becomes immediate.</p>
    `
  },
  "Margins, Kerning, Meaning": {
    time: "6 min • Literature",
    body: `
      <h3>Typography as Thought</h3>
      <p>Spacing is attentional ethics; it teaches breath to language.</p>
    `
  },
  "Against Reduction": {
    time: "10 min • Philosophy",
    body: `
      <h3>Metrics, Meet Mystery</h3>
      <p>What we can count narrows; what matters might not be countable.</p>
    `
  },
  "Planck Time and Desire": {
    time: "9 min • Science",
    body: `
      <h3>Smallest Tick</h3>
      <p>Discreteness of time meets continuity of longing; a physics of ache.</p>
    `
  },
  "The Gentle Violence of Measurement": {
    time: "7 min • Science",
    body: `
      <h3>Observer Effect</h3>
      <p>Every instrument argues for a world; we read the argument back as truth.</p>
    `
  },
  "Footnotes to a Dream": {
    time: "11 min • Literature",
    body: `
      <h3>Kafkaesque Data</h3>
      <p>We annotate the night and call it a model; the dream resists the schema.</p>
    `
  },
  "Signals, Symbols, Souls": {
    time: "Longform • Philosophy",
    body: `
      <h3>Representation</h3>
      <p>Signals are mapped; symbols are meant; souls are met.</p>
    `
  },
  "Latency Is a Literary Device": {
    time: "Longform • Technology",
    body: `
      <h3>Meaning of Delay</h3>
      <p>Waiting shapes narrative tension from servers to sentences.</p>
    `
  },
  "Elegy for a Constant": {
    time: "Longform • Science",
    body: `
      <h3>Precision and Drift</h3>
      <p>Constants console until experiments revise them.</p>
    `
  }
};

/* ======= Reader open/close ======= */
const reader = document.getElementById('reader');
const readerTitle = document.getElementById('readerTitle');
const readerMeta = document.getElementById('readerMeta');
const readerBody = document.getElementById('readerBody');
const closeReader = document.getElementById('closeReader');

function openReader(title){
  const post = posts[title];
  if(!post) return;
  readerTitle.textContent = title;
  readerMeta.textContent = post.time;
  readerBody.innerHTML = post.body;
  reader.classList.add('open');
  reader.setAttribute('aria-hidden','false');
}
function closePanel(){
  reader.classList.remove('open');
  reader.setAttribute('aria-hidden','true');
}
document.addEventListener('click', (e)=>{
  const el = e.target.closest('[data-open]');
  if(el){
    e.preventDefault();
    openReader(el.getAttribute('data-open'));
  }
});
closeReader.addEventListener('click', closePanel);
document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closePanel(); });

/* ======= Category filter ======= */
const chips = document.querySelectorAll('.chip[data-cat]');
const cards = document.querySelectorAll('.card');
chips.forEach(ch=>{
  ch.addEventListener('click', ()=>{
    const cat = ch.dataset.cat;
    cards.forEach(c=>{
      c.style.display = (c.dataset.cat === cat || !cat) ? '' : 'none';
    });
    ch.animate([{transform:'translateY(0)'},{transform:'translateY(-3px)'},{transform:'translateY(0)'}],{duration:220, easing:'ease-out'});
  });
});

/* ======= Search filter ======= */
const q = document.getElementById('q');
q.addEventListener('input', ()=>{
  const term = q.value.trim().toLowerCase();
  cards.forEach(c=>{
    const t = c.querySelector('h5')?.textContent.toLowerCase() ?? '';
    const p = c.querySelector('p')?.textContent.toLowerCase() ?? '';
    c.style.display = (t.includes(term) || p.includes(term)) ? '' : 'none';
  });
});

/* ======= Footer year ======= */
document.getElementById('year').textContent = new Date().getFullYear();

/* ======= Subscribe demo ======= */
document.getElementById('subForm').addEventListener('submit', (e)=>{
  e.preventDefault();
  const email = new FormData(e.target).get('email');
  alert(`Subscribed: ${email}`);
});

/* ======= Light/dark respect if system switches ======= */
matchMedia('(prefers-color-scheme: dark)').addEventListener?.('change', e=>{
  // Intentionally staying light by default; adjust here if desired.
});
</script>
</body>
</html>
